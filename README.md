# zyxel-modem-backup-extract
Extract user/password etc information from a backup file generated by a Zyxel router or modem

## General Info
This is a script to extract information such as Wifi SSID and Password (currently only WPA-PSK(2) supported), PPPoE username and password, as well as passwords for the default users 'admin' and 'root' on these devices.

- The configuration file is obtained from performing a "backup" from the router's user interface.
- The file (`configuration-backupsettings.conf`) has a 60-byte "header" followed by an LZW-compressed XML tree.
- The header has the format "<compressed alg=lzw len=<data_length>> <crc=<hexadecimal crc value>>". Ie,
    ```
  <compressed alg=lzw len=23309>^@^@^@^@^@^@^@^@^@^@<crc=0x93c8de2>
    ```
   which is then padded to 60-bytes, after which the "data" segment begins.
- The (unmarked) "data" segment is a compressed LZW stream which contains an XML tree which contains the configuration data.
- The passwords in the XML tree are *not* plain text, they are `base64`-encoded.


## Installation and Requirements

This script relies on the `python-lzw` package for decompressing the LZW data. See the project page at https://github.com/joeatwork/python-lzw for how to install it.

## Sample Usage and Output:
```
$ python zyxel-passwd.py configuration-backupsettings.conf
Users configured on router:
Username: root		Password: 3peV!Nb1$54
Username: admin		Password: turktelekom

PPP configuration:
Username: xyz824095721@ttnet		Password: 6b88OF73

Wifi info:
SSID: 'My Wifi'    Authentication: WPA(2)-PSK     Password: 'mysecret123'

```
## Known Issues

Ths script has been tested using the configuration backup from a Zyxel VMG3313-B10A VDSL modem. Until it gets further exposure, I can't guarantee that it will work on yours.

Also, I haven't (yet) had the opportunity to implement extracting WEP keys. If people are using WEP and need this functionality, send me a copy of your backup file and I'll add the code.
